<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta charset="UTF-8" />
    <title>Invoice</title>
    <style>
        @page {
            /* dimensions for the whole page */
            size: A5;
            margin: 0;
        }

        html {
            /* off-white, so body edge is visible in browser */
            background: #eee;
        }

        body {
            /* A5 dimensions */
            width: 148mm;
            height: 180mm;


            margin: auto;

            padding: 2%;
            border: solid 0.1mm;
            background: #fff;
        }

        .header-top {
            display: flex;
            /*justify-content: space-between;*/
            align-items: center;
        }

        .header-bottom {
            display: flex;
            /*justify-content: space-between;*/
            align-items: center;
        }

        /*.header-bottom > span:first-child {
            align-self: flex-end;
        }

        .header-bottom > span:last-child {
            align-self: flex-start;
        }*/


        .header-top-right {
            display: flex;
            flex-direction: column;
            vertical-align: middle;
            text-align: left;
        }

        .text-center {
            text-align: center;
        }

        .text-left {
            text-align: left;
        }

        .content-top {
            border-top: solid 0.5mm;
            border-bottom: solid 0.5mm;
        }

        .receipt-number {
            display: inline-block;
            width: 25%;
            padding-left: 5%;
        }

        .patient-info {
            display: inline-block;
            width: 60%;
            border-left: solid 0.5mm;
            padding-left: 5%;
        }

        .table-footer-tr {
            padding-top: 5mm !important;
            border-bottom: solid white !important;
            border-right: solid white !important;
            border-left: solid white !important;
        }
        .insurance-info {
            display: flex;
            /*justify-content: space-between;*/
            align-items: center;
        }

        table,
        th,
        td {
            border: solid 0.5mm;
            border-collapse: collapse;
        }

        tr {
            line-height: 22px;
        }

        .order-number {
            float: left;
            border: solid 0.5mm;
            margin-top: 10mm;
            padding: 2%;
        }

        .payment-table {
            float: right;
        }

        .font-bold {
            font-weight: 700;
        }

        .mr-8 {
            margin-right: 32px
        }

        .text-2xl {
            font-size: 24px;
            line-height: 32px;
        }

        .py-2 {
            padding-top: 8px;
            padding-bottom: 8px;
        }
    </style>
</head>

<body>

<div class="header">
    <table style="width: 100%;">
        <tbody>
        <tr style="background: #fff; border: solid white !important;">
            <td style="width: 60%; text-align: start; border: solid white !important; font-weight: 300;" class="header-top-right">
                <span style="font-size: 13px;">POLYCLINIQUE INTERNATIONALE SAINT-JOSEPH</span>
                <span style="font-size: 12px; margin-left: 15mm;">Tél: (228) 22 26 94 42 / (228) 22 26 72 32</span>
            </td>
            <td style="width: 40%; right: 0; text-align: right; border: solid white !important;" th:text="${date_heure}">Date and Time</td>
        </tr>
        </tbody>
    </table>
    <!--<div class="header-top">
        <div class="header-top-right" style="text-align: start; width: 60%;">
            <span style="font-size: 13px;">POLYCLINIQUE INTERNATIONALE SAINT-JOSEPH</span>
            <span style="font-size: 11px; margin-left: 15mm;">Tél: (228) 22 26 94 42 / (228) 22 26 72 32</span>
        </div>
        <span class="mr-8" style="text-align: left; width: 30%;" th:text="${date_heure}">Date and Time</span>
    </div>-->

    <table style="width: 100%;">
        <tbody>
        <tr style="background: #fff; border: solid white !important;">
            <td style="width: 70%; text-align: start; border: solid white !important;" class="text-2xl font-bold">Reçu de caisse</td>
            <td style="width: 30%; right: 0; text-align: right; border: solid white !important;">Caissière</td>
        </tr>
        </tbody>
    </table>
    <!--<div class="header-bottom" style="width: 100%;">
        <span style="text-align: start; width: 40%;" class="text-2xl font-bold">Reçu de caisse</span>
        <span class="mr-8" style="text-align: end !important; width: 60% !important;">Caissière</span>
    </div>-->
</div>

<div class="content">
    <div class="content-top">
        <div class="receipt-number">
            <p>Reçu N°</p>
            <p th:text="${reference}">-</p>
        </div>
        <div class="patient-info">
            <p>Patient(e): <b th:text="${patient.nom}">-</b></p>
            <p>Sexe: <b th:text="${patient.sexe}">-</b> <span style="margin-left: 10mm;">Date de naissance: <b th:text="${date_naissance}">-</b></span></p>
        </div>
    </div>

    <table style="width: 100%;">
        <tbody>
        <tr style="background: #fff; border: solid white !important;">
            <td style="width: 70%; text-align: start; border: solid white !important;">ASSUREUR: <b th:text="${nom_assurance}">LUI-MÊME</b></td>
            <td style="width: 30%; right: 0; text-align: right; border: solid white !important;">Taux de PEC: <b th:text="${taux_assurance}">0</b>%</td>
        </tr>
        </tbody>
    </table>
    <!--<div class="insurance-info py-2">
        <span style="text-align: start; width: 60%;">ASSUREUR: <b th:text="${patient.assurance.nom}">LUI-MÊME</b></span>
        <span style="text-align: end; margin-left: auto; width: 40%;">Taux de PEC: <b th:text="${patient.taux_assurance}">0</b>%</span>
    </div>-->

    <div class="activities">
        <table class="activities-table" style="width: 100%;">
            <thead>
            <tr style="background: #eee;">
                <th style="width: 70%; text-align: start;">ACTIVITES</th>
                <th style="width: 10%; ">QTE</th>
                <th style="width: 20%; text-align: center;">Montants(CFA)</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td colspan="3"><em><u th:text="${groupe}">-</u></em></td>
            </tr>
            <tr th:each="tarif: ${tarifs}" >
                <td th:text="${tarif.tarif.libelle}" style="width: 70%;" />
                <td th:text="${tarif.quantite}" style="width: 10%; text-align: end;" />
                <td th:text="${tarif.total_price_gros}" style="width: 20%; text-align: end;" />
            </tr>

            </tbody>
        </table>

        <div class="order-number">
            <h2 th:text="${groupe+' '+attente}">
                ANALYSE 7
            </h2>
        </div>

        <table class="payment-table" style="width: 50%;">
            <tbody>
            <tr>
                <td>Montant total :</td>
                <td style="width: 40%; text-align: end;" th:text="${total}">0</td>
            </tr>
            <tr>
                <td>Montant PEC :</td>
                <td style="width: 40%; text-align: end;" th:text="${montant_pec}">0</td>
            </tr>
            <tr>
                <td>Majoration/Urgence:</td>
                <td style="width: 40%; text-align: end;" th:text="${majoration}">0</td>
            </tr>
            <tr>
                <td>Réduction :</td>
                <td style="width: 40%; text-align: end;" th:text="${reduction}">0</td>
            </tr>
            <tr>
                <td>Montant à payer :</td>
                <td style="width: 40%; text-align: end;" th:text="${a_payer}">0</td>
            </tr>
            <tr>
                <td>Montant versé :</td>
                <td style="width: 40%; text-align: end;" th:text="${verse}">0</td>
            </tr>
            <tr>
                <td>Reliquat :</td>
                <td style="width: 40%; text-align: end;" th:text="${reliquat}">0</td>
            </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td class="table-footer-tr" style="text-align: start; vertical-align:top"><u>Mode de Règlement:</u></td>
                    <td class="table-footer-tr" style="text-align: left; vertical-align:top;" >
                        <b th:text="${mode.nom}">-</b>
                    </td>
                </tr>
            </tfoot>
        </table>

        <div class="payment-info">
        </div>
    </div>


</div>
</body>

</html>